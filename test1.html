<!DOCTYPE html>
<html>
<head>
<title>AH Army Lab - Test</title>
<style>
body{font-family:Arial;padding:20px}
.question{display:none}
.active{display:block}
button{padding:8px;margin:5px}
.correct{background:lightgreen;padding:5px;margin:3px}
.wrong{background:#ffb3b3;padding:5px;margin:3px}
.na{background:yellow;padding:5px;margin:3px}
</style>
</head>
<body>

<h2>ЁЯкЦ AH Army Lab - Full Test</h2>

<div>тП▒ Total Time: <span id="mainTimer">30:00</span></div>
<div>ЁЯХТ Question Time: <span id="qTimer">0</span> sec</div>

<div id="questions"></div>

<div>
<button onclick="prevQ()">Previous</button>
<button onclick="saveNext()">Save & Next</button>
<button onclick="nextQ()">Next</button>
<button onclick="submitTest()">Submit</button>
</div>

<hr>

<h3>ЁЯУК Analysis</h3>
<div id="analysis"></div>

<h3>ЁЯУШ Solutions</h3>
<div id="solutions"></div>

<h3>ЁЯПЖ Leaderboard</h3>
<div id="leaderboard"></div>

<script>

let currentQ=0;
let answers={};
let totalTime=1800;
let qTime=0;
let qInterval;

const questions = [
["рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?",["рдореБрдВрдмрдИ","рджрд┐рд▓реНрд▓реА","рдХреЛрд▓рдХрд╛рддрд╛","рдЪреЗрдиреНрдирдИ"],"B","рджрд┐рд▓реНрд▓реА рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рд╣реИред"],
["2 + 2 = ?",["3","4","5","6"],"B","2+2 = 4 рд╣реЛрддрд╛ рд╣реИред"],
["рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрд╢реБ?",["рд╢реЗрд░","рдмрд╛рдШ","рд╣рд╛рдереА","рдШреЛрдбрд╝рд╛"],"B","рдмрд╛рдШ рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрд╢реБ рд╣реИред"],
["5 ├Ч 6 = ?",["11","20","30","35"],"C","5├Ч6 = 30"],
["рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрдХреНрд╖реА?",["рдХрдмреВрддрд░","рддреЛрддрд╛","рдореЛрд░","рдЧрд░реБрдбрд╝"],"C","рдореЛрд░ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрдХреНрд╖реА рд╣реИред"],

// рдиреАрдЪреЗ 45 simple practice questions
...Array.from({length:45},(_,i)=>[
`Practice Question ${i+6}?`,
["Option A","Option B","Option C","Option D"],
"A",
"рдпрд╣ рдПрдХ practice solution рд╣реИред"
])

];

function loadQuestions(){
let container=document.getElementById("questions");
questions.forEach((q,i)=>{
let div=document.createElement("div");
div.className="question";
if(i===0) div.classList.add("active");
div.innerHTML=`<h3>Q${i+1}. ${q[0]}</h3>
${q[1].map((opt,index)=>{
let letter=String.fromCharCode(65+index);
return `<input type="radio" name="q${i}" value="${letter}"> ${opt}<br>`;
}).join("")}`;
container.appendChild(div);
});
}

function startMainTimer(){
setInterval(()=>{
if(totalTime<=0){submitTest();}
else{
totalTime--;
let m=Math.floor(totalTime/60);
let s=totalTime%60;
document.getElementById("mainTimer").innerText=
(m<10?"0":"")+m+":"+(s<10?"0":"")+s;
}
},1000);
}

function startQTimer(){
qTime=0;
clearInterval(qInterval);
qInterval=setInterval(()=>{
qTime++;
document.getElementById("qTimer").innerText=qTime;
},1000);
}

function showQ(i){
document.querySelectorAll(".question").forEach(q=>q.classList.remove("active"));
document.querySelectorAll(".question")[i].classList.add("active");
startQTimer();
}

function nextQ(){
if(currentQ<questions.length-1){
currentQ++;
showQ(currentQ);
}
}

function prevQ(){
if(currentQ>0){
currentQ--;
showQ(currentQ);
}
}

function saveNext(){
let selected=document.querySelector(`input[name="q${currentQ}"]:checked`);
if(selected){answers[currentQ]=selected.value;}
nextQ();
}

function submitTest(){
clearInterval(qInterval);
let score=0;
let analysisHTML="";
let solutionHTML="";

questions.forEach((q,i)=>{
let user=answers[i];
let correct=q[2];

if(!user){
analysisHTML+=`<div class="na">Q${i+1} Not Attempted</div>`;
}
else if(user===correct){
score+=2;
analysisHTML+=`<div class="correct">Q${i+1} Correct</div>`;
}
else{
analysisHTML+=`<div class="wrong">Q${i+1} Wrong</div>`;
}

solutionHTML+=`<div>
<b>Q${i+1}:</b> ${q[0]}<br>
Correct: ${q[2]}<br>
Solution: ${q[3]}
</div><hr>`;
});

document.getElementById("analysis").innerHTML=analysisHTML;
document.getElementById("solutions").innerHTML=solutionHTML;

let name=prompt("Apna naam daalo:");
let board=JSON.parse(localStorage.getItem("board")||"[]");
board.push({name,score});
board.sort((a,b)=>b.score-a.score);
localStorage.setItem("board",JSON.stringify(board));

let lbHTML="";
board.slice(0,10).forEach((p,i)=>{
lbHTML+=`<div>${i+1}. ${p.name} - ${p.score}</div>`;
});
document.getElementById("leaderboard").innerHTML=lbHTML;
}

loadQuestions();
startMainTimer();
startQTimer();

</script>

</body>
</html>
